using System;
using System.Security.Cryptography.X509Certificates;
using System.Threading.Tasks;
using Microsoft.VisualStudio.TestTools.UnitTesting;
using PlexHelper.Yts.Entities;

namespace PlexHelper.Test
{
    [TestClass]
    public class YtsApiTest
    {
        [TestMethod]
        public void YtsGetTest()
        {
            YtsApiRequest request = new YtsApiRequest();

            const string url = "https://yts.to/api/v2/list_movies.json?query_term=You%27re%20Not%20You%20(2014)";

            YtsApiMovieResponse response = request.MovieListQueryAsync(url).Result;

            Assert.IsNotNull(response);

            Assert.IsTrue(response.MovieListResponse.MovieCount > 0);
        }
    }
}
